{% extends 'layouts/base.html' %}
{% load static %}
{% block title %} UI Tables {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}
{% load widget_tweaks %}
{% block content %}
     <div class="banner-area text-combo top-pad-90 rectangular-shape bg-light-gradient ">
        <div class="item">
            <div class="box-table">
                <div class="box-cell">
                    <div class="containedr mx-4 ">
                        <div class="row card px-5" style="display: flex; align-items: flex-start; flex-direction: row; width:100%;">
                                <div class=" " style="width: 80%;" >
                                    <h3 class="wow fadeInDown mt-4 pt-3" data-wow-duration="1s" style="font-size:30px; font-weight: bolder; " > Transformer</h3>
                                    <p class="wow fadeInLeft" data-wow-duration="1.5s">
                                        Emplore and create custom transformer code with our code editor
                            <br />
                                        Need more features? <a class="btn-link " href="/">GO PRO</a>.
                                    </p>

                                    <div class="mt-4" style="display:flex;flex-direction:row;" >

                                        <a class="btn circle btn-md btn-dark wow fadeInUp" style="border-radius: 14px;" data-wow-duration="1.8s" href="{% url 'code_editor'  %}" >
                                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16"> <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/> </svg>
                                              <span class="nav-link-text ms-1">New Transformer »</span>
                                            </a>

<div class="mx-3" >
                                       <a class="btn btn-md btn-outline-secondary  fadeInUp " style="border-radius: 14px;"  data-wow-duration="1.8s" href="/customer/profile">
                                            Your Work ({{my_work}}) »</a>
                                          </div>
                                    </div>
                                  
                                </div>
                                <div class="  thumb wow fadeInRight my-4 " data-wow-duration="1s" style="width:20%;">
                                   <img width="100%" height="168"  src="{% static 'assets/img/illustration/2.png' %}" alt="Thumb">
                                </div>

<div class="main mb-4 mt-3">
  <!-- Actual search box -->
<form method="get" class="form-group has-search " style="display:flex; flex-direction: row;" >
    <div style="width:75%; margin-right:15px ;" >
    <span class="fa fa-search form-control-feedback"></span>
    <input type="text" class="form-control" placeholder="Search" name="q"   value="{{q}}" >
    </div>
       <select  class=" form-control form-select" value="{{q_types}}" id="q_types" name="q_types" style="width:25%;">
      <option value="" selected disabled>Select Types</option>
 {% for type in transformers_type %}
      {% if type.transformer_type %}
          <option value="{{ type.transformer_type }}">{{ type.transformer_type }} </option>
          {% endif %}

          {% endfor %}
   
        </select>
  </form>

<h4 class="mt-4 mb-3 text-secondary font-serif " > Available Transformers ({{ transformers|length }}) </h4>

<div class="  table-responsive">
<table class="table table-striped  table-hover table-responsive table-bordered table-sm " cellspacing="5" cellpadding="5"  >
  <thead class="thead-dark bg-dark text-white ">
    <tr>
      <th>S/N</th>
      <th>Name</th>
      <th>Description</th>
      <th>Is Public</th>
      <th>Created By</th>
      <th>Last Modified</th>
      <th>Views</th> 
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for transformer in transformers %}
    <tr>
          <td>{{ forloop.counter }}. </td>
      <td>{{ transformer.name }}</td>
      <td>{{ transformer.description }}</td>
      <td>{{ transformer.is_public }}</td>
      <td>{{ transformer.created_by }}</td>
      <td>{{ transformer.last_modified }}</td>
      <td>{{ transformer.views }}</td> 
      <td>
        <a href="{% url 'edit_code_editor' transformer.pk %}" class="btn btn-outline-success btn-sm" style="margin-bottom:0;">Edit</a>
        <a href="{% url 'delete_code_editor' transformer.pk %}" class="btn btn-outline-danger btn-sm" style="margin-bottom:0;">Delete</a>
      </td>
    </tr>
   {% empty %}
        <tr>
            <td colspan="6">No transformers found.</td>
        </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% if transformers.has_other_pages %}
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {% if transformers.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ transformers.previous_page_number }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% endif %}
            {% for i in transformers.paginator.page_range %}
                {% if transformers.number == i %}
                    <li class="page-item active"><a class="page-link" href="#">{{ i }} <span class="sr-only">(current)</span></a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                {% endif %}
            {% endfor %}
            {% if transformers.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ transformers.next_page_number }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
{% endif %}

</div>



                        </div>  
                    </div>
                </div>
            </div>
        </div>
    </div>
<div>


          
          
        </div>
      </div>
    </div>

    {% include "includes/footer.html" %}
    
  </div>

{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}


<style type="text/css">
  .main {
    width: 100%; 

}

td,th {
    padding: 3px !important;  
}



/* Bootstrap 4 text input with search icon */

.has-search .form-control {
    padding-left: 2.375rem;
}

.has-search .form-control-feedback {
    position: absolute;
    z-index: 2;
    display: block;
    width: 2.375rem;
    height: 2.375rem;
    line-height: 2.375rem;
    text-align: center;
    pointer-events: none;
    color: #aaa;
}
</style>


  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
{% endblock javascripts %}

