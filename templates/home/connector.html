{% extends 'layouts/base.html' %}
{% load static %}
{% block title %} UI Tables {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}
{% load widget_tweaks %}
{% block content %}
     <div class="banner-area text-combo top-pad-90 rectangular-shape bg-light-gradient ">
        <div class="item">
            <div class="box-table">
                <div class="box-cell">
                    <div class="containedr mx-4 ">
                        <div class="row card px-5" style="display: flex; align-items: flex-start; flex-direction: row; width:100%;">
                                <div class=" " style="width: 80%;" >
                                    <h3 class="wow fadeInDown mt-4 pt-3" data-wow-duration="1s" style="font-size:30px; font-weight: bolder; " >Connector</h3>
                                    <p class="wow fadeInLeft" data-wow-duration="1.5s">
                                        Emplore and create new connector.
                                                            </p>

                                    <div class="mt-4" style="display:flex;flex-direction:row;" >

                                        <a class="btn circle btn-md btn-dark wow fadeInUp" style="border-radius: 14px;" data-wow-duration="1.8s" data-bs-toggle="modal" data-bs-target="#exampleModal" " >
                                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16"> <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/> </svg>
                                              <span class="nav-link-text ms-1 text-uppercase">New Connector Â»</span>
                                            </a>

                                    </div>
                                  
                                </div>
                                <div class="  thumb wow fadeInRight my-4 " data-wow-duration="1s" style="width:20%;">
                                   <img width="100%" height="168"  src="{% static 'assets/img/illustration/2.png' %}" alt="Thumb">
                                </div>
                                <p>
                                    {{error}}
                                </p>
                                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  
  <form action="/customer/connector" method="POST" >
    {% csrf_token %}
    <div class="modal-dialog">
    <div class="modal-content">
      
        <div class="modal-header   " style="background-color:#333;" >
          <h5 class="modal-title text-white text-uppercase" id="exampleModalLabel">Connector DETAILS</h5>
          <button type="button" class="btn-close btn-danger " data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input required type="text" class="form-control" name="name" placeholder="Transformer Name" value={{name}} >
          </div>
          <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea  class="form-control" name="description" placeholder="Description.."  >{{description}}</textarea>
          </div>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary" >CREATE</button>
        </div>
     
    </div>
  </div>
   </form>
</div>

<div class="main mb-4 mt-3">
  <!-- Actual search box -->
<form method="get" class="form-group has-search">
    <span class="fa fa-search form-control-feedback"></span>
    <input type="text" class="form-control" placeholder="Search Connector" name="q" value={{q}} >
  </form>

<h4 class="mt-4 mb-3 text-secondary font-serif " > Your Connector ({{ connectors|length }}) </h4>

<div class="  table-responsive">
<table class="table table-striped  table-hover table-responsive table-bordered table-xs ">
  <thead class="thead-dark bg-dark text-white ">
    <tr>
      <th>S/N</th>
      <th>Name</th>
      <th>C/Type</th>
      <th>Description</th>
      <th>Created By</th>
      <th>Date Created</th>
      <th>Time Created</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for connector in connectors %}
    <tr>
          <td>{{ forloop.counter }}. </td>
      <td>{{ connector.name }}</td>
      <td>{{ connector.connector_type }}</td>
      <td>{{ connector.description }}</td>
      <td>{{ connector.created_by }}</td>
      <td>{{ connector.date_created }}</td>
      <td>{{ connector.time_created }}</td>
      <td>
        <a href="{% url 'select-source' connector.pk %}" class="btn btn-success btn-sm">Edit</a>
      </td>
    </tr>
   {% empty %}
        <tr>
            <td colspan="6">No connectors found.</td>
        </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% if connectors.has_other_pages %}
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {% if connectors.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ connectors.previous_page_number }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% endif %}
            {% for i in connectors.paginator.page_range %}
                {% if connectors.number == i %}
                    <li class="page-item active"><a class="page-link" href="#">{{ i }} <span class="sr-only">(current)</span></a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                {% endif %}
            {% endfor %}
            {% if connectors.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ connectors.next_page_number }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
{% endif %}

</div>



                        </div>  
                    </div>
                </div>
            </div>
        </div>
    </div>
<div>


          
          
        </div>
      </div>
    </div>

    {% include "includes/footer.html" %}
    
  </div>

{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}


<style type="text/css">
  .main {
    width: 100%; 

}



/* Bootstrap 4 text input with search icon */

.has-search .form-control {
    padding-left: 2.375rem;
}

.has-search .form-control-feedback {
    position: absolute;
    z-index: 2;
    display: block;
    width: 2.375rem;
    height: 2.375rem;
    line-height: 2.375rem;
    text-align: center;
    pointer-events: none;
    color: #aaa;
}
</style>


  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
{% endblock javascripts %}

